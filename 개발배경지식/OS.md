# OS(운영체제)

운영체제란 컴퓨터를 키면 가장 먼저 만나는 소프트웨어다. 운영체제는 컴퓨터 외에도 스마트 시계나 스마트 티비에도 들어가는데 이처럼 CPU 성는도 낮고 메모리 크기도 작아 시스템에 내장할 수 있도록 만든 운영체제를 임베디드 운영체제라고 한다.

## 운영체제의 역할

---

- 성능 향상
  운영체제가 있는 기계는 새로운 기능을 추가하거나 성능을 변경시키는 것이 가능하므로 성능 및 효율성 향상이 가능하다.
- 자원관리
  응용 시스템들은 제한된 장치를 서로 독차지하고자 한다. 이러한 문제를 해결하기 위해서는 자원을 관리하는 강력한 중재자가 필요한데 이 역할을 운영체제가 맡아 한다.
- 자원 보호
  고의 혹은 실수로 응용 프로그램이 자신에게 주어진 작업 영역을 넘어 다른 작업 영역에 침범하게 된다면 문제가 발생할 수 있다. 따라서 이러한 비정상적인 작업에서 컴퓨터 자원을 지키는 것또한 운영체제의 역할 중 하나다.
- 사용자 인터페이스 제공
  사용자들이 이용이 편리하게 인터페이스를 제공하는 것 또한 운영체제의 역할이다.

## 운영체제의 정의

---

> 사용자에게 편리한 인터페이스를 제공하고 자원을 효율적으로 관리하는 소프트웨어

운영체제의 핵심 기능은 세 가지가 있다.

- 프로세스 관리 : 프로세스에 CPU를 배분하고 작업에 필요한 제반 환경을 제공한다.
- 메인메모리 관리 : 프로세스에 작업 공간을 배치하고 실제 메인메모리보다 큰 가상 공간을 제공한다.
- 저장 장치 관리 : 데이터를 저장하고 접근할 수 있는 인터페이스를 제공한다.

## 운영체제의 구조

---

운영체제는 인터페이스(GUI), 시스템 호출, 커널, 드라이버로 구성되어 있다.

### 커널과 사용자 인터페이스

---

커널은 프로세스 관리, 메모리 관리, 저장 장치 관리 같은 운영체제의 핵심 기능을 모아 놓았다. 운영체제의 성능은 커널이 좌우한다고 할 수 있다.

사용자 인터페이스는 운영체제가 사용자와 응용 프로그램에 인접하여 커널에 사용자의 명령을 전달하고 그 결과를 사용자와 응용 프로그램에 알려주는 역할을 한다.

### 시스템 호출

---

운영체제는 사용자가 직접적으로 자원에 접근하지 못하게 하여 자원이 망가지는 것을 막는다. 운영체제에서는 작업을 부탁하기 위해 시스템 호출(System call)을 이용한다. 시스템 호출은 사용자가 커널을 이용할 수 있게 운영체제가 제공하는 프로그램 함수의 집합이다.

### 드라이버

---

컴퓨터는 다양한 종류의 하드웨어와 연결될 수 있다. 운영체제는 다양한 장치와 연결이 가능하도록 하드웨어 인터페이스를 제공하는데 이를 드라이버라고 부른다. 즉, 드라이버는 하드웨어 장치와 상호 작용하기 위해 만들어진 컴퓨터 프로그램이다.

## 커널의 기능 - 프로세스 관리

---

운영체제에서 프로세스란 하나의 작업 단위를 뜻한다. 프로그램은 정적인 데이터인 반면 프로세스는 프로그램의 실행을 뜻한다. 즉, 프로세스는 프로그램으로 작성된 작업 절차를 실제로 실행에 옮긴다는 의미다. 폰 노이만 구조에 따르면 저장장치에 저장되어 있던 프로그램이 메모리에 올라오게 되면 프로세스가 되는 것이다. 사용자가 저장 장치에 있던 프로그램을 실행시키면 프로세스는 메모리로 올라오게 되고, 올라온 프로세스에 관한 프로세스 제어블록(Process Control Block)이 생성되게 된다. 생성된 프로세스 제어 블록은 실행 상태로 변경되기 전까지 준비 상태로 대기를 하게 된다. 만약 주어진 시간이 끝날 때까지 작업을 완료하지 못한다면 다시 준비상태로 돌아가게 된다. 하지만 작업을 완료하게 된다면 완료 상태로 변경되고 프로세스 제어블록은 폐기되게 된다.

## 커널의 기능 - 메인메모리 관리

---

컴퓨터에 있어 메모리는 유일한 작업 공간이다. 따라서 모든 프로그램들은 메모리에 올라와 실행된다. 운영체제도 마찬가지로 프로세스이기에 메모리에 올라와야만 한다. 하지만 운영체제의 경우 다른 프로세스들이 침범하면 큰 문제가 발생할 수 있기에 메모리 내에는 운영체제를 위한 공간을 마련해 놓고 남은 자리를 프로세스들이 나눠 가진다. 복잡한 메모리 관리의 경우 메모리 관리 시스템(Memory Management System)인 MMS가 담당한다. 메모리 관리자가 담당하는 업무는 크게 세 가지로 가져오기(Fetch), 배치(Placement), 재배치(Replacement)가 있다. 가져오기란 프로세스와 데이터를 메모리로 가져오는 것을 의미한다. 배치란 가져온 프로세스와 데이터를 메모리의 어느 부분에 배치할 지를 결정하고, 메모리를 어떤 크기로 자를지를 결정한다. 재배치 작업의 경우 새로운 프로세스로 기존의 메모리 공간이 부족한 경우 오래된 프로세스를 내보내는 작업을 뜻한다.

### 가상메모리

---

프로그래머들이 실제 메모리 크기를 고려하여 프로그래밍 하기란 매우 어려운 작업이기에 가상 메모리(Virtual Memory)를 이용하여 실제 메모리 크기와는 상관 없는 커다란 메모리 공간을 제공하는 기술이다. 따라서 프로세스 입장에서는 시스템이 허용하는 최대 크기의 메모리를 환자 차지하는 것처럼 느껴지게 된다. 메모리가 부족해지면 프로세스는 저장장치의 스왑 영역으로 이동하게 된다. 스왑 영역은 저장 장소가 장소만을 제공해주고 관리는 메모리 관리자에 의해 이루어지게 된다. 가상 메모리 시스템은 실제 메모리 공간과 스왑영역의 공간을 의미한다.

## 커널의 기능 - 저장 장치 관리

---

컴퓨터 내에서 여러 종류의 파일들이 존재하는데 각 파일의 종류를 구분하기 위해 확장자가 이용된다. 따라서 파일의 확장자를 통해 파일의 성격을 파악할 수 있다. 각 파일들에는 헤더가 달려 있어 파일 이름, 버전, 크기, 만든 날짜 등의 정보가 저장되게 된다. 운영체제의 입장에서 파일들은 실행 파일과 데이터 파일로 나뉠 수 있다. 실행 파일은 운영체제가 메모리롤 가져와 CPU를 사용하여 작업하는 파일인 반면 데이터 파일은 프로세스난 응용 프로그램이 사용하는 데이터를 모아 놓는 파일이다.

디렉터리란 관련 있는 파일을 하나로 모아 놓은 곳을 의미하고 최상위 디렉터리를 루트 디렉터리라고 한다. 파일이 저장된 위치는 파일 테이블로 관리가 이루어진다.

### 참조한 자료

---
