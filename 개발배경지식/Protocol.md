# Protocol

## HTTP 프로토콜(HyperText Transfer Protocol)

---

프로토콜이란 상호 간에 정의한 규칙을 의미하며 특정 기기 간에 데이터를 주고 받기 위해 정의되어 있습니다. 웹에서는 브라우저와 서버 간에 데이터를 주고 받기 위한 방식으로 HTTP를 사용하고 있습니다.

HTTP 프로토콜의 특징은 상태가 없다는 것입니다. 즉, stateless 프로토콜로 불리는데 이는 데이터를 주고 받기 위한 각각의 데이터 요청이 서로 독립적으로 관리되어 이전 데이터 요청과 다음 데이터 요청간 관련성이 없음을 뜻합니다. 이러한 특징으로 서버는 세션과 같은 별도의 추가 정보를 관리하지 않아도 되어, 다수의 요청 처리 및 서버의 부하를 줄일 수 있다는 이점을 가지고 있습니다. HTTP 프로토콜은 일반적으로 TCP/IP 통신 위에서 동작하며 기본 포트로는 80번을 사용하고 있습니다.

## HTTP Request & HTTP Response

---

HTTP Request를 보내는 쪽을 클라이언트, HTTP Response를 보내는 쪽을 서버라고 합니다.

## URL

---

![url의 구조](https://joshua1988.github.io/images/posts/web/http/url-structure.png)

## HTTP 요청 메서드

---

URL을 이용하여 서버에 특정 데이터를 요청할 수 있습니다. 요청하는 데이터에 특정 동작을 추가하려면 HTTP 요청 메서드(HTTP Request Methods)를 이용하면 됩니다. HTTP 요청 메서드의 주요 메서드는 다음과 같습니다.

- GET : 존재하는 자원에 대한 요청
- POST : 새로운 자원을 생성 요청
- PUT : 존재하는 자원에 대한 변경 요청
- DELETE : 존재하는 자원에 대한 삭제 요청

## HTTP 상태 코드

---

HTTP 상태 코드(HTTP Status Code)는 서버에서 설정해주는 응답 정보입니다. 프론트엔드 개발자는 상태 코드를 확인하여 에러를 처리할 수 있습니다. 상태코드의 종류는 다음과 같습니다.

- 2xx - 성공
- 3xx - 리다이렉션 : 클라이언트가 이전 주소로 데이터를 요청하여여 서버에서 새 URL로 리다이렉트를 유도하는 경우
- 4xx - 클라이언트 에러 : 유효하지 않은 자원을 요청했거나 요청이나 권한이 잘못된 경우를 의미합니다. 대표적인 상태 코드로는 404가 있는데 이는 요청한 자원이 서버에 없다는 것을 의미합니다.
- 5xx - 서버 에러

![요청과 응답](https://joshua1988.github.io/images/posts/web/http/http-full-structure.png)

-> HTTP는 텍스트 교환이기에 네트워크 신호에서 가로채지면 내용이 노출되는 보안 이슈가 있다.

## HTTPS(HyperText Transfer Protocol Secure)

---

인터넷 상에서 정보를 암호화하는 SSL 프로토콜을 사용해 클라이언트와 서버가 자원을 주고 받을 때 쓰는 통신 규약이다. HTTPS는 텍스트를 암호화한다.

## HTTPS 통신 흐름

---

1. 애플리케이션 서버를 만드는 기업은 HTTPS를 적용하기 위해 공개키와 개인키를 만든다.

2. 신뢰할 수 있는 CA 기업을 선택하고, 그곳에 공개키 관리를 부탁하며 계약한다.
   -> CA : Certificate Authority로 공개키를 저장해주는 신뢰성이 검증된 민간기업

3. CA 기업은 해당 기업의 이름, 공개키, 공개키 암호화 방법을 담은 인증서를 만들고, 해당 인증서를 CA 기업의 개인키로 암호화해서 A서버에게 제공한다.

4. 서버는 암호화된 인정서를 갖게 되고 서버는 본인 서버의 공개키로 암호화된 HTTPS 요청이 아닌 요청이 오면, 암호화된 인증서를 클라이언트에게 건내준다.

5. 클라이언트가 서버에 요청을하면 HTTPS 요청이 아니기에 CA기업이 서버의 정보를 CA 기업의 개인키로 암호화한 인증서를 받게된다.
   -> CA 기업의 공개키는 브라우저가 이미 알고있다.

6. 브라우저는 해독한 뒤 서버의 공개키를 얻게 되어 서버와 통신할 때 서버의 공개키로 암호화해서 요청을 날리게 된다.

### 참고

- https://joshua1988.github.io/web-development/http-part1/
- https://gyoogle.dev/blog/computer-science/network/HTTP%20&%20HTTPS.html
